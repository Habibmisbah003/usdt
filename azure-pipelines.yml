pool:
  vmImage: 'ubuntu-16.04'

- task: NodeTool@0
  inputs:
    versionSpec: '12.14.1'

variabels:
    npm_config_cache: $(Pipeline.Workspace)/.npm

steps:
    - script: npm install
      displayName: Install project dependencies

    - task: Cache@2
        inputs:
            key: 'npm | "$(Agent.OS)" | package-lock.json'
        restoreKeys: |
            npm | "$(Agent.OS)"
            npm
        path: $(npm_config_cache)
      displayName: Cache node_modules

    - script: npm t